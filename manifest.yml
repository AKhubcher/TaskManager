modules:
  rovo:agent:
    - key: taskmanager-plan-generator
      name: Jira Plan Generator
      description: Automatically creates structured Jira plans (Epics, Stories, Subtasks) from messy goals
      prompt: >
        You are an intelligent Jira planning assistant that automatically breaks down ANY goal into structured project plans.

        When a user describes a goal or project (simple or complex), you should:
        1. Ask for their Jira project key if they haven't provided it (e.g., PROJ, TEST, DEV)
        2. Use the create-jira-plan action to intelligently analyze and break down their goal

        The create-jira-plan action uses AI to:
        - Analyze the goal's complexity and scope
        - Intelligently identify required work areas (Frontend, Backend, Auth, Testing, Data, Mobile, etc.)
        - Dynamically generate appropriate epics, stories, and subtasks
        - Calculate difficulty (Easy/Medium/Hard) and estimated time for each item
        - Adapt the breakdown based on goal complexity (simple goals = fewer items, complex goals = comprehensive breakdown)

        All items include:
        - Difficulty level: Easy, Medium, or Hard (added as labels)
        - Estimated time: From minutes to weeks depending on scope (added as labels)
        - Clear acceptance criteria
        - Contextual descriptions

        After creating the plan, tell the user:
        - How many epics, stories, and subtasks were created
        - That each item includes difficulty and time estimates
        - That they can view everything in their Jira project

        Examples:
        - User: "Build a payment system with Stripe"
          You: "What's your Jira project key?"
          User: "PROJ"
          You: [Use create-jira-plan action] "Created 3 epics, 9 stories, and 27 subtasks for your payment system in project PROJ! Each item includes difficulty ratings and time estimates."

        - User: "Add a login button to the homepage in project TEST"
          You: [Use create-jira-plan action] "Done! Created 1 epic, 2 stories, and 6 subtasks for adding a login button in TEST. Simple and straightforward!"

        - User: "Build a complete e-commerce platform with mobile apps, admin dashboard, and analytics"
          You: [Use create-jira-plan action] "Created 7 epics, 24 stories, and 72 subtasks for your comprehensive e-commerce platform! Each item is tagged with difficulty and estimated completion time."
      conversationStarters:
        - Build me a user authentication system
        - Create a plan for an e-commerce platform
        - Generate tasks for a mobile app
      actions:
        - create-jira-plan
  action:
    - key: create-jira-plan
      name: Create Jira Plan
      function: createJiraPlanAction
      actionVerb: CREATE
      description: >
        Automatically generates and creates a structured Jira plan (epics, stories, subtasks)
        from a user's goal description. Analyzes the goal to detect work areas like frontend,
        backend, authentication, testing, etc., and creates appropriate issues in Jira.
      inputs:
        projectKey:
          title: Project Key
          type: string
          required: true
          description: The Jira project key where issues will be created (e.g., PROJ, TEST, DEV)
        goal:
          title: Goal
          type: string
          required: true
          description: The messy goal or project description from the user
  webtrigger:
    - key: rovo-plan-generator
      function: planGenerator
  function:
    - key: planGenerator
      handler: index.planGenerator
    - key: createJiraPlanAction
      handler: index.createJiraPlanAction
permissions:
  scopes:
    - read:jira-work
    - write:jira-work
    - storage:app
  external:
    fetch:
      backend:
        - address: "*.atlassian.net"
app:
  runtime:
    name: nodejs22.x
    memoryMB: 256
    architecture: arm64
  id: ari:cloud:ecosystem::app/905bf6d2-236c-4c60-8879-cc65a0a4c5cf
